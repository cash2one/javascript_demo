!function(){"use strict";var a=window.navigator.userAgent;if(!/Android/i.test(a))return!1;var b=1,c=0,d=0,e=["biz.navigation.setLeft","biz.navigation.setRight"],f=0,g={},h=function(a,b,c,d,e){if(!(a&&"function"==typeof a&&b&&"function"==typeof b&&c&&"string"==typeof c&&d&&"string"==typeof d&&e&&"object"==typeof e))throw"Invalid args for exec()"},i=function(a,d){var e=g[a];if(e&&(e.__keep__||delete g[a],d&&d.hasOwnProperty("status"))){var f=d.status;b===f?e.win.call(e.context,d.result):c===f&&e.fail.call(e.context,d.errorMsg)}};window.nuva=window.nuva||{},window.nuva.require=function(){return function(a,b,c,d,i,j){h(a,b,c,d,i);var k=c+"."+d,l=JSON.stringify(i),m=f++;e.indexOf(k)>-1?(g[k]={__keep__:!0,win:a,fail:b,context:j},window.appClient&&window.appClient.onSetListenerFromJS(k,l)):(g[m]={win:a,fail:b,context:j},window.appClient&&window.appClient.onCallFromJS(m,k,l))}},window.nuva.__js_port__=window.onAppClientResult=window.onJSListener=function(a){switch("string"==typeof a&&(a=JSON.parse(a)),a.hasOwnProperty("type")&&e.indexOf(a.type)>-1&&(a={taskId:a.type,status:b,result:a.clickArg}),0){case d:i.call(window.nuva,a.taskId,a)}},function(){window.nuva.require()}()}(),function(a){"use strict";function b(a,b,c){for(var d in b)c?a[d]=b[d]:a[d]=void 0!==a[d]?a[d]:b[d]}function c(a,c){if("undefined"==typeof WebViewJavascriptBridge&&"undefined"==typeof WebViewJavascriptBridgeAndroid)return console.log("WebViewJavascriptBridge未定义，请在红圈app打开该页面");var d=c||{},e=function(b){console.log("默认成功回调",a,b)},f=function(b){console.log("默认失败回调",a,b)},g=function(){};d.onSuccess&&(e=d.onSuccess,delete d.onSuccess),d.onFail&&(f=d.onFail,delete d.onFail),d.onCancel&&(g=d.onCancel,delete d.onCancel);var h=function(a){var b=a||{},c=b.status,d=b.result;1===c?e&&e.call(null,d):0===c&&f&&f.call(null,a.errorMsg)},i=!1;switch(a){case"device.notification.alert":b(d,{title:"",buttonName:"确定"});break;case"device.notification.confirm":case"device.notification.prompt":b(d,{title:"",buttonLabels:["确定","取消"]});break;case"device.notification.showPreloader":b(d,{text:"加载中...",showIcon:!0});break;case"device.notification.modal":b(d,{buttonLabels:["确定"]});break;case"biz.navigation.set":b(d,{visible:!0});break;case"biz.navigation.setLeft":j.ios&&(i=!0),b(d,{text:""});break;case"biz.navigation.setRight":j.ios&&(i=!0),b(d,{type:"text",value:[]})}if(j.android){var k=a.split("."),l=k.pop(),m=k.join(".");WebViewJavascriptBridgeAndroid(e,f,m,l,d)}else j.ios&&(i?(WebViewJavascriptBridge.registerHandler(a,h),WebViewJavascriptBridge.callHandler(a,d)):WebViewJavascriptBridge.callHandler(a,d,h))}var d=["runtime.info","device.notification.alert","device.notification.confirm","device.notification.prompt","device.notification.toast","device.notification.showPreloader","device.notification.hidePreloader","device.notification.actionSheet","device.notification.modal","device.notification.vibrate","device.geolocation.get","biz.map.locate","biz.util.uploadImage","biz.util.uploadImageFromCamera","biz.util.uploadImageFromGallery","biz.util.chosen","biz.util.openLink","biz.util.share","biz.util.open","biz.util.datepicker","biz.util.timepicker","biz.util.datetimepicker","biz.util.usertrack","biz.navigation.set","biz.navigation.setTitle","biz.navigation.setLeft","biz.navigation.setRight","biz.navigation.close","internal.data.call","internal.account.getId"],e="0.0.1",f=a.navigator.userAgent,g=!1,h=null,i=!1,j={ios:/iPhone|iPad|iPod/i.test(f),android:/Android/i.test(f),version:e,ability:"",error:function(a){h=a},ready:function(b){var c=function(a){return a?(g===!1&&(g=!0),void("function"==typeof b&&b(a))):console.log("bridge初始化失败")};if(j.ios&&a.WebViewJavascriptBridge){try{WebViewJavascriptBridge.init(function(a,b){})}catch(d){console.log(d.message)}return c(WebViewJavascriptBridge)}if(j.android&&a.WebViewJavascriptBridgeAndroid)return c(WebViewJavascriptBridgeAndroid);if(j.ios)document.addEventListener("WebViewJavascriptBridgeReady",function(){if("undefined"==typeof WebViewJavascriptBridge)return console.log("WebViewJavascriptBridge 未定义");try{WebViewJavascriptBridge.init(function(a,b){})}catch(a){console.log(a.message)}i=!0,c(WebViewJavascriptBridge)},!1);else{if(!j.android)return console.log("很抱歉，尚未支持您所持设备");var e=function(){try{a.WebViewJavascriptBridgeAndroid=a.nuva.require(),i=!0,c(WebViewJavascriptBridgeAndroid)}catch(b){console.log("window.nuva.require出错",b.message)}};a.nuva?e():document.addEventListener("runtimeready",function(){e()},!1)}},type:function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},compareVersion:function(a,b,c){if("string"!=typeof a||"string"!=typeof b)return!1;for(var d,e,f=a.split("."),g=b.split(".");d===e&&g.length>0;)d=f.shift(),e=g.shift();return c?(0|e)>=(0|d):(0|e)>(0|d)}},k=function(a,b){for(var c=a.split("."),d=j,e=0,f=c.length;f>e;e++)e===f-1&&(d[c[e]]=b),"undefined"==typeof d[c[e]]&&(d[c[e]]={}),d=d[c[e]]};d.forEach(function(a){k(a,function(b){c(a,b)})}),j.__ns=k,a.hq=j,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=j:"function"==typeof define&&(define.amd||define.cmd)&&define(function(){return j})}(this);