!function(n){"function"==typeof define&&define.amd&&define.amd.Zepto?define(["zepto"],n):n(Zepto)}(function(n){"use strict";function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=s),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=n.extend({},n.fn.swipe.defaults,e),this.each(function(){var r=n(this),i=r.data(P);i||(i=new t(this,e),r.data(P,i))})}function t(e,t){function r(e){if(!(sn()||n(e.target).closest(t.excludedElements,Vn).length>0)){var r,i=e.originalEvent?e.originalEvent:e,l=i.touches,o=l?l[0]:i;return Wn=S,l?Zn=l.length:t.preventDefaultEvents!==!1&&e.preventDefault(),Nn=0,Hn=null,Yn=null,jn=0,_n=0,Cn=0,Fn=1,Xn=0,Qn=vn(),an(),fn(0,o),!l||Zn===t.fingers||t.fingers===b||Q()?(zn=Mn(),2==Zn&&(fn(1,l[1]),_n=Cn=En(qn[0].start,qn[1].start)),(t.swipeStatus||t.pinchStatus)&&(r=N(i,Wn))):r=!1,r===!1?(Wn=O,N(i,Wn),r):(t.hold&&(ne=setTimeout(n.proxy(function(){Vn.trigger("hold",[i.target]),t.hold&&(r=t.hold.call(Vn,i,i.target))},this),t.longTapThreshold)),pn(!0),null)}}function L(n){var e=n.originalEvent?n.originalEvent:n;if(Wn!==y&&Wn!==O&&!cn()){var r,i=e.touches,l=i?i[0]:e,o=hn(l);if(Gn=Mn(),i&&(Zn=i.length),t.hold&&clearTimeout(ne),Wn=m,2==Zn&&(0==_n?(fn(1,i[1]),_n=Cn=En(qn[0].start,qn[1].start)):(hn(i[1]),Cn=En(qn[0].end,qn[1].end),Yn=mn(qn[0].end,qn[1].end)),Fn=Sn(_n,Cn),Xn=Math.abs(_n-Cn)),Zn===t.fingers||t.fingers===b||!i||Q()){if(Hn=xn(o.start,o.end),X(n,Hn),Nn=yn(o.start,o.end),jn=bn(),dn(Hn,Nn),(t.swipeStatus||t.pinchStatus)&&(r=N(e,Wn)),!t.triggerOnTouchEnd||t.triggerOnTouchLeave){var u=!0;if(t.triggerOnTouchLeave){var a=Dn(this);u=Pn(o.end,a)}!t.triggerOnTouchEnd&&u?Wn=U(m):t.triggerOnTouchLeave&&!u&&(Wn=U(y)),(Wn==O||Wn==y)&&N(e,Wn)}}else Wn=O,N(e,Wn);r===!1&&(Wn=O,N(e,Wn))}}function R(n){var e=n.originalEvent?n.originalEvent:n,r=e.touches;if(r){if(r.length&&!cn())return un(),!0;if(r.length&&cn())return!0}return cn()&&(Zn=Jn),Gn=Mn(),jn=bn(),_()||!j()?(Wn=O,N(e,Wn)):t.triggerOnTouchEnd||0==t.triggerOnTouchEnd&&Wn===m?(t.preventDefaultEvents!==!1&&n.preventDefault(),Wn=y,N(e,Wn)):!t.triggerOnTouchEnd&&B()?(Wn=y,H(e,Wn,g)):Wn===m&&(Wn=O,N(e,Wn)),pn(!1),null}function k(){Zn=0,Gn=0,zn=0,_n=0,Cn=0,Fn=1,an(),pn(!1)}function A(n){var e=n.originalEvent?n.originalEvent:n;t.triggerOnTouchLeave&&(Wn=U(y),N(e,Wn))}function I(){Vn.unbind(Rn,r),Vn.unbind(Un,k),Vn.unbind(kn,L),Vn.unbind(An,R),In&&Vn.unbind(In,A),pn(!1)}function U(n){var e=n,r=F(),i=j(),l=_();return!r||l?e=O:!i||n!=m||t.triggerOnTouchEnd&&!t.triggerOnTouchLeave?!i&&n==y&&t.triggerOnTouchLeave&&(e=O):e=y,e}function N(n,e){var t,r=n.touches;return q()&&Z()||V()&&Q()?(q()&&Z()&&(t=H(n,e,f)),V()&&Q()&&t!==!1&&(t=H(n,e,h))):ln()&&t!==!1?t=H(n,e,d):on()&&t!==!1?t=H(n,e,w):rn()&&t!==!1&&(t=H(n,e,g)),e===O&&(Z()&&(t=H(n,e,f)),Q()&&(t=H(n,e,h)),k(n)),e===y&&(r?r.length||k(n):k(n)),t}function H(e,r,s){var p;if(s==f){if(Vn.trigger("swipeStatus",[r,Hn||null,Nn||0,jn||0,Zn,qn]),t.swipeStatus&&(p=t.swipeStatus.call(Vn,e,r,Hn||null,Nn||0,jn||0,Zn,qn),p===!1))return!1;if(r==y&&W()){if(Vn.trigger("swipe",[Hn,Nn,jn,Zn,qn]),t.swipe&&(p=t.swipe.call(Vn,e,Hn,Nn,jn,Zn,qn),p===!1))return!1;switch(Hn){case i:Vn.trigger("swipeLeft",[Hn,Nn,jn,Zn,qn]),t.swipeLeft&&(p=t.swipeLeft.call(Vn,e,Hn,Nn,jn,Zn,qn));break;case l:Vn.trigger("swipeRight",[Hn,Nn,jn,Zn,qn]),t.swipeRight&&(p=t.swipeRight.call(Vn,e,Hn,Nn,jn,Zn,qn));break;case o:Vn.trigger("swipeUp",[Hn,Nn,jn,Zn,qn]),t.swipeUp&&(p=t.swipeUp.call(Vn,e,Hn,Nn,jn,Zn,qn));break;case u:Vn.trigger("swipeDown",[Hn,Nn,jn,Zn,qn]),t.swipeDown&&(p=t.swipeDown.call(Vn,e,Hn,Nn,jn,Zn,qn))}}}if(s==h){if(Vn.trigger("pinchStatus",[r,Yn||null,Xn||0,jn||0,Zn,Fn,qn]),t.pinchStatus&&(p=t.pinchStatus.call(Vn,e,r,Yn||null,Xn||0,jn||0,Zn,Fn,qn),p===!1))return!1;if(r==y&&Y())switch(Yn){case a:Vn.trigger("pinchIn",[Yn||null,Xn||0,jn||0,Zn,Fn,qn]),t.pinchIn&&(p=t.pinchIn.call(Vn,e,Yn||null,Xn||0,jn||0,Zn,Fn,qn));break;case c:Vn.trigger("pinchOut",[Yn||null,Xn||0,jn||0,Zn,Fn,qn]),t.pinchOut&&(p=t.pinchOut.call(Vn,e,Yn||null,Xn||0,jn||0,Zn,Fn,qn))}}return s==g?(r===O||r===y)&&(clearTimeout($n),clearTimeout(ne),J()&&!nn()?(Kn=Mn(),$n=setTimeout(n.proxy(function(){Kn=null,Vn.trigger("tap",[e.target]),t.tap&&(p=t.tap.call(Vn,e,e.target))},this),t.doubleTapThreshold)):(Kn=null,Vn.trigger("tap",[e.target]),t.tap&&(p=t.tap.call(Vn,e,e.target)))):s==d?(r===O||r===y)&&(clearTimeout($n),Kn=null,Vn.trigger("doubletap",[e.target]),t.doubleTap&&(p=t.doubleTap.call(Vn,e,e.target))):s==w&&(r===O||r===y)&&(clearTimeout($n),Kn=null,Vn.trigger("longtap",[e.target]),t.longTap&&(p=t.longTap.call(Vn,e,e.target))),p}function j(){var n=!0;return null!==t.threshold&&(n=Nn>=t.threshold),n}function _(){var n=!1;return null!==t.cancelThreshold&&null!==Hn&&(n=wn(Hn)-Nn>=t.cancelThreshold),n}function C(){return null!==t.pinchThreshold?Xn>=t.pinchThreshold:!0}function F(){var n;return n=t.maxTimeThreshold&&jn>=t.maxTimeThreshold?!1:!0}function X(n,e){if(t.preventDefaultEvents!==!1)if(t.allowPageScroll===s)n.preventDefault();else{var r=t.allowPageScroll===p;switch(e){case i:(t.swipeLeft&&r||!r&&t.allowPageScroll!=v)&&n.preventDefault();break;case l:(t.swipeRight&&r||!r&&t.allowPageScroll!=v)&&n.preventDefault();break;case o:(t.swipeUp&&r||!r&&t.allowPageScroll!=T)&&n.preventDefault();break;case u:(t.swipeDown&&r||!r&&t.allowPageScroll!=T)&&n.preventDefault()}}}function Y(){var n=z(),e=G(),t=C();return n&&e&&t}function Q(){return!!(t.pinchStatus||t.pinchIn||t.pinchOut)}function V(){return!(!Y()||!Q())}function W(){var n=F(),e=j(),t=z(),r=G(),i=_(),l=!i&&r&&t&&e&&n;return l}function Z(){return!!(t.swipe||t.swipeStatus||t.swipeLeft||t.swipeRight||t.swipeUp||t.swipeDown)}function q(){return!(!W()||!Z())}function z(){return Zn===t.fingers||t.fingers===b||!x}function G(){return 0!==qn[0].end.x}function B(){return!!t.tap}function J(){return!!t.doubleTap}function K(){return!!t.longTap}function $(){if(null==Kn)return!1;var n=Mn();return J()&&n-Kn<=t.doubleTapThreshold}function nn(){return $()}function en(){return(1===Zn||!x)&&(isNaN(Nn)||Nn<t.threshold)}function tn(){return jn>t.longTapThreshold&&E>Nn}function rn(){return!(!en()||!B())}function ln(){return!(!$()||!J())}function on(){return!(!tn()||!K())}function un(){Bn=Mn(),Jn=event.touches.length+1}function an(){Bn=0,Jn=0}function cn(){var n=!1;if(Bn){var e=Mn()-Bn;e<=t.fingerReleaseThreshold&&(n=!0)}return n}function sn(){return!(Vn.data(P+"_intouch")!==!0)}function pn(n){n===!0?(Vn.bind(kn,L),Vn.bind(An,R),In&&Vn.bind(In,A)):(Vn.unbind(kn,L,!1),Vn.unbind(An,R,!1),In&&Vn.unbind(In,A,!1)),Vn.data(P+"_intouch",n===!0)}function fn(n,e){var t={start:{x:0,y:0},end:{x:0,y:0}};return t.start.x=t.end.x=e.pageX||e.clientX,t.start.y=t.end.y=e.pageY||e.clientY,qn[n]=t,t}function hn(n){var e=void 0!==n.identifier?n.identifier:0,t=gn(e);return null===t&&(t=fn(e,n)),t.end.x=n.pageX||n.clientX,t.end.y=n.pageY||n.clientY,t}function gn(n){return qn[n]||null}function dn(n,e){e=Math.max(e,wn(n)),Qn[n].distance=e}function wn(n){return Qn[n]?Qn[n].distance:void 0}function vn(){var n={};return n[i]=Tn(i),n[l]=Tn(l),n[o]=Tn(o),n[u]=Tn(u),n}function Tn(n){return{direction:n,distance:0}}function bn(){return Gn-zn}function En(n,e){var t=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y);return Math.round(Math.sqrt(t*t+r*r))}function Sn(n,e){var t=e/n*1;return t.toFixed(2)}function mn(){return 1>Fn?c:a}function yn(n,e){return Math.round(Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)))}function On(n,e){var t=n.x-e.x,r=e.y-n.y,i=Math.atan2(r,t),l=Math.round(180*i/Math.PI);return 0>l&&(l=360-Math.abs(l)),l}function xn(n,e){var t=On(n,e);return 45>=t&&t>=0?i:360>=t&&t>=315?i:t>=135&&225>=t?l:t>45&&135>t?u:o}function Mn(){var n=new Date;return n.getTime()}function Dn(e){e=n(e);var t=e.offset(),r={left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()};return r}function Pn(n,e){return n.x>e.left&&n.x<e.right&&n.y>e.top&&n.y<e.bottom}var t=n.extend({},t),Ln=x||D||!t.fallbackToMouseEvents,Rn=Ln?D?M?"MSPointerDown":"pointerdown":"touchstart":"mousedown",kn=Ln?D?M?"MSPointerMove":"pointermove":"touchmove":"mousemove",An=Ln?D?M?"MSPointerUp":"pointerup":"touchend":"mouseup",In=Ln?null:"mouseleave",Un=D?M?"MSPointerCancel":"pointercancel":"touchcancel",Nn=0,Hn=null,jn=0,_n=0,Cn=0,Fn=1,Xn=0,Yn=0,Qn=null,Vn=n(e),Wn="start",Zn=0,qn={},zn=0,Gn=0,Bn=0,Jn=0,Kn=0,$n=null,ne=null;try{Vn.bind(Rn,r),Vn.bind(Un,k)}catch(ee){n.error("events not supported "+Rn+","+Un+" on jQuery.swipe")}this.enable=function(){return Vn.bind(Rn,r),Vn.bind(Un,k),Vn},this.disable=function(){return I(),Vn},this.destroy=function(){I(),Vn.data(P,null),Vn=null},this.option=function(e,r){if("object"==typeof e)t=n.extend(t,e);else if(void 0!==t[e]){if(void 0===r)return t[e];t[e]=r}else{if(!e)return t;n.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var r="1.6.12",i="left",l="right",o="up",u="down",a="in",c="out",s="none",p="auto",f="swipe",h="pinch",g="tap",d="doubletap",w="longtap",v="horizontal",T="vertical",b="all",E=10,S="start",m="move",y="end",O="cancel",x="ontouchstart"in window,M=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,D=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,P="TouchSwipe",L={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};n.fn.swipe=function(t){var r=n(this),i=r.data(P);if(i&&"string"==typeof t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));n.error("Method "+t+" does not exist on jQuery.swipe")}else if(i&&"object"==typeof t)i.option.apply(this,arguments);else if(!(i||"object"!=typeof t&&t))return e.apply(this,arguments);return r},n.fn.swipe.version=r,n.fn.swipe.defaults=L,n.fn.swipe.phases={PHASE_START:S,PHASE_MOVE:m,PHASE_END:y,PHASE_CANCEL:O},n.fn.swipe.directions={LEFT:i,RIGHT:l,UP:o,DOWN:u,IN:a,OUT:c},n.fn.swipe.pageScroll={NONE:s,HORIZONTAL:v,VERTICAL:T,AUTO:p},n.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:b}});